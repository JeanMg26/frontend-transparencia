import{i as q,r as D,X as S,a6 as V,au as R,q as C,x as A,z as I,A as L,a7 as w,h as y,t as B,ar as Q}from"./index.4f03f91b.js";import{b as j}from"./focus-manager.02955f48.js";var K=q({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:d,emit:f}){const F=L(),i=D(null);let c=0;const s=[];function m(t){const n=typeof t=="boolean"?t:e.noErrorFocus!==!0,l=++c,E=(o,r)=>{f("validation"+(o===!0?"Success":"Error"),r)},h=o=>{const r=o.validate();return typeof r.then=="function"?r.then(a=>({valid:a,comp:o}),a=>({valid:!1,comp:o,err:a})):Promise.resolve({valid:r,comp:o})};return(e.greedy===!0?Promise.all(s.map(h)).then(o=>o.filter(r=>r.valid!==!0)):s.reduce((o,r)=>o.then(()=>h(r).then(a=>{if(a.valid===!1)return Promise.reject(a)})),Promise.resolve()).catch(o=>[o])).then(o=>{if(o===void 0||o.length===0)return l===c&&E(!0),!0;if(l===c){const{comp:r,err:a}=o[0];if(a!==void 0&&console.error(a),E(!1,r),n===!0){const P=o.find(({comp:p})=>typeof p.focus=="function"&&w(p.$)===!1);P!==void 0&&P.comp.focus()}}return!1})}function x(){c++,s.forEach(t=>{typeof t.resetValidation=="function"&&t.resetValidation()})}function v(t){t!==void 0&&y(t);const n=c+1;m().then(l=>{n===c&&l===!0&&(e.onSubmit!==void 0?f("submit",t):t!==void 0&&t.target!==void 0&&typeof t.target.submit=="function"&&t.target.submit())})}function g(t){t!==void 0&&y(t),f("reset"),B(()=>{x(),e.autofocus===!0&&e.noResetFocus!==!0&&u()})}function u(){j(()=>{if(i.value===null)return;const t=i.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||i.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||i.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(i.value.querySelectorAll("[tabindex]"),n=>n.tabIndex>-1);t!=null&&t.focus({preventScroll:!0})})}S(Q,{bindComponent(t){s.push(t)},unbindComponent(t){const n=s.indexOf(t);n>-1&&s.splice(n,1)}});let b=!1;return V(()=>{b=!0}),R(()=>{b===!0&&e.autofocus===!0&&u()}),C(()=>{e.autofocus===!0&&u()}),Object.assign(F.proxy,{validate:m,resetValidation:x,submit:v,reset:g,focus:u,getValidationComponents:()=>s}),()=>A("form",{class:"q-form",ref:i,onSubmit:v,onReset:g},I(d.default))}});const M=[e=>!!e||"Por favor, ingrese su correo electr\xF3nico.",(e,d)=>d.email(e)||"Ingrese un correo electr\xF3nico v\xE1lido"],T=[e=>!!e||"Por favor, ingrese su contrase\xF1a."],X=[e=>!!e||"Por favor, ingrese su nombre de usuario.",e=>e.length>=3||"Ingrese como m\xEDnimo 3 caracteres."],$=[e=>!!e||"Por favor, ingrese sus nombres completos.",e=>e.length>=3||"Ingrese como m\xEDnimo 3 caracteres."],G=[e=>e.length>=6||"La contrase\xF1a debe tener al menos 6 caracteres."],H=[e=>e.length>=6||"La contrase\xF1a debe tener al menos 6 caracteres."],J=[e=>!!e||"Por favor ingrese el nombre de la categoria.",e=>e.length>=6||"La categoria debe de tener como m\xEDnimo 6 caracteres.",e=>e.length<=30||"La categoria debe de tener como m\xE1ximo 30 caracteres."],N=[e=>!!e||"Por seleccionar una categoria."],U=[e=>!!e||"Por favor, ingrese un titulo.",e=>e.length>=6||"El t\xEDtulo tiene que tener como m\xEDnimo 6 car\xE1cteres.",e=>e.length<=100||"El t\xEDtulo tiene que tener como m\xE1ximo 100 car\xE1cteres."],W=[e=>!!e||"Por favor, ingresa la ruta de la publicaci\xF3n.",e=>e.length>=6||"La ruta de la publicaci\xF3n debe tener como m\xEDnimo 6 car\xE1cteres."],Y=[e=>!!e||"Por favor, ingrese un titulo.",e=>e.length>=6||"El t\xEDtulo tiene que tener como m\xEDnimo 6 car\xE1cteres.",e=>e.length<=100||"El t\xEDtulo tiene que tener como m\xE1ximo 100 car\xE1cteres."],Z=[e=>!!e||"Por favor, ingrese una descripci\xF3n para la publicaci\xF3n."],_=[e=>!!e||"Por favor, seleccione una imagen."];export{K as Q,J as a,Y as b,G as c,Z as d,M as e,$ as f,_ as i,H as n,T as p,W as r,N as s,U as t,X as u};
